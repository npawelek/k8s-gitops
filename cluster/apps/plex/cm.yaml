---
apiVersion: v1
kind: ConfigMap
metadata:
  name: comskip
  namespace: plex
data:
  comskip.ini: |-
    ; See comskip.txt in the distribution zip file for many settable parameters, read manual.html, tuning.html and debugwindow.html for how to tune and debug comskip
    ; Any commercial at the end shorter then this amount of seconds will be regarded as show
    always_keep_last_seconds=180
    ; 1=black frame, 2=logo, 4=scene change, 8=fuzzy logic, 16=closed captions, 32=aspect ration, 64=silence, 128=cutscenes, 255=all
    detect_method=107
    ; Default, set to 0 to force using this clues if selected above.
    validate_silence=1
    ; Default, set to 0 to force using this clues (like pure white frames) if blackframe is selected above.
    validate_uniform=1
    ; Default, set to 0 to force using this clues if selected above.
    validate_scenechange=1
    ; Show a lot of extra info, level 5 is also OK, set to 0 to disable
    verbose=0
    ; Frame not black if any pixels checked are greater than this (scale 0 to 255)
    max_brightness=60
    ; Frame not pure black if any pixels checked are greater than this, will check average brightness (scale 0 to 255)
    test_brightness=40
    ; Maximum average brightness for a dim frame to be considered black (scale 0 to 255) 0 means autosetting
    max_avg_brightness=25
    ; New
    maxbright=1
    ; New
    brightness_jump=200
    ; Maximum length in seconds to consider a segment a commercial break
    max_commercialbreak=600
    ; Minimum length in seconds to consider a segment a commercial break, some sports require lower numbers than normal tv shows
    min_commercialbreak=24
    ; Maximum time in seconds for a single commercial or multiple commercials if no breaks in between
    max_commercial_size=197
    ; Mimimum time in seconds for a single commercial
    min_commercial_size=4
    ; Any segment longer than this will be scored towards show (sports and 30 minute programming), increase this to 250 for 1 hour long programming
    min_show_segment_length=250
    ; Set to 0 to disable cutpoints based on uniform frames
    non_uniformity=500
    ; Any frame with sound volume larger than this will not be regarded as black frame
    max_volume=500
    max_silence=100
    ; Any deep silence longer than this amount  of frames is a possible cutpoint
    min_silence=12
    ; New
    noise_level=5
    ; Amount of pixels from bottom to ignore in all processing
    ticker_tape=0
    ; New, default 0
    ignore_side=0
    ; New, default 0
    subtitles=0
    ; Set to 1 to search only for logo at the lower half of the video, do not combine with subtitle setting
    logo_at_bottom=0
    ; Use logo file already created at beginning of show, default 0
    use_existing_logo_file=1
    ; New
    two_pass_logo=1
    ; Compare to average for sum of 1=brightness, 2=uniform 4=volume, 8=silence, 16=schange, set to 0 to disable
    punish=1
    ; Multiply when amount is above average punish_threshold
    punish_threshold=1.3
    ; When above average * threshold multiply score by this value
    punish_modifier=4
    ; Set to 1 to use a USA specific algorithm to tune some of the settings, not advised outside the USA
    intelligent_brightness=0
    ; If more then this amount of logo is found then logo detection will be disabled
    logo_percentile=0.92
    ; Digital signals can be higher
    logo_threshold=0.7250
    ; New
    global_threshold=1.79
    ; Default 1
    min_black_frames_for_break=1
    ; Default, set to 0 to avoid show segments without logo to be scored towards commercial
    punish_no_logo=1
    aggressive_logo_rejection=0
    ; Set to 1 if you want successive blocks with logo on the transition to be regarded as connected, set to 0 to disable
    connect_blocks_with_logo=1
    delay_logo_search=0
    ; Set the size of the filter to apply to bad logo detection, 4 seems to be a good value
    logo_filter=0
    ; New, default 1
    edge_step=2
    ; Set to 1 if you want to cut also on aspect ratio changes when logo is present, set to 2 to force cuts on aspect ratio changes. set to 0 to disable
    cut_on_ar_change=1
    ; Set to 1 if you want to delete the last block if its a show and after a commercial
    delete_show_after_last_commercial=0
    ; New, default 0
    delete_show_before_first_commercial=0
    ; Set to 1 if you want to delete the previous and the next show in the recording, this can lead to the deletion of trailers of next show
    delete_show_before_or_after_current=0
    ; Set to max size of block in seconds to be discarded, set to 0 to disable
    delete_block_after_commercial=0
    ; Amount of seconds of show to be removed before ALL commercials
    remove_before=0
    ; Amount of seconds of show to be removed after ALL commercials
    remove_after=0
    ; Reduce the duration of the logo with this amount of seconds
    shrink_logo=5
    ; Set to number of seconds after logo disappears comskip should start to search for silence to insert an additional cutpoint
    after_logo=0
    ; Set to number of seconds before logo appears comskip should start to search for silence to insert an additional cutpoint
    before_logo=0
    padding=0.50
    ms_audio_delay=5
    volume_slip=40
    ; Set to 1 to force Comskip to skip frames for higher processing speed.
    skip_b_frames=0
    ; Set to 1 to enable hardware accelerated video decoding, only available in donator version
    hardware_decode=0
    ; Set to utilize Quad Core
    thread_count=4
    ; Will repair maximum 200 missing MPEG frames in the timeline, set to 0 to disable repairing for players that don't use PTS
    max_repair_size=200
    ; Bit pattern for disabling heuristics, adding 1 disables heristics 1, adding 2 disables heristics 2, adding 4 disables heristics 3, 255  disables all heuristics
    disable_heuristics=4
    ; Set to 1 if you want comskip to tidy up after finishing
    delete_logo_file=1
    ; Create a big excel file for detailed analysis, set to 0 to disable
    output_framearray=0
    ; Create a dump of the user data channel, used for CC and XDS (such as V-Chip info). Can be use together with output_framearray to remote debug CC decoding
    output_data=0
    ; The old videoredo format
    output_videoredo=0
    ; The new videoredo v3 format
    output_videoredo3=0
    output_womble=0
    ; Set to 1 if you want MPEG Video Wizard bookmark file output
    output_mls=0
    output_cuttermaran=0
    output_mpeg2schnitt=0
    output_mpgtx=0
    output_dvrcut=0
    output_zoomplayer_chapter=0
    output_zoomplayer_cutlist=0
    output_edl=1
    ; Set to 1 if you're running DVRMS-Toolbox
    output_dvrmstb=0
    output_edlx=0
    output_vcf=0
    output_bsplayer=0
    ; Set to 1 if you want Beyond TV chapter cutlist output
    output_btv=0
    ; Set to 1 if you want ProjectX cutlist output (Xcl)
    output_projectx=0
    output_avisynth=0
    ; Set to 1 if you want XBMC to skipping commercials
    output_vdr=0
    ; Set to 1 if you want comskip to demux the mpeg file while scanning
    output_demux=0
    sage_framenumber_bug=0
    sage_minute_bug=0
    ; Set to 1 if you use parallelprocessing and need the output while recording
    live_tv=1
    ; Change to 16 when using live_tv in BTV, used for mpeg PS and TS
    live_tv_retries=1
    ; Only used for dvr_ms
    dvrms_live_tv_retries=300
    ; Change to 8000000 when using live_tv in BTV
    standoff=0
    cuttermaran_options="cut=\"true\" unattended=\"true\" muxResult=\"false\" snapToCutPoints=\"true\" closeApp=\"true\""
    mpeg2schnitt_options="mpeg2schnitt.exe /S /E /R25  /Z %2 %1"
    avisynth_options="LoadPlugin(\"MPEG2Dec3.dll\") \nMPEG2Source(\"%s\")\n"
    dvrcut_options="dvrcut \"%s.dvr-ms\" \"%s_clean.dvr-ms\" "
    windowtitle="Comskip - %s"
